import{d,u as m,X as v,o as y,b as _,n as w,l,O as g,x as P,s as c,a1 as x,a2 as A,a3 as C,a4 as b,a5 as T,a6 as E,a7 as $,a8 as L,a9 as D,aa as M,V as R,j as S,y as V,ab as O,ac as j,ad as k,ae as H}from"./chunks/framework.acd7121c.js";import{t as f}from"./chunks/theme.0196d120.js";const B=d({__name:"Layout",setup(a){const{isDark:e,frontmatter:t}=m(),n=t.value.layoutClass,p=()=>"startViewTransition"in document&&window.matchMedia("(prefers-reduced-motion: no-preference)").matches;return v("toggle-appearance",async({clientX:i,clientY:r})=>{if(!p()){e.value=!e.value;return}const u=[`circle(0px at ${i}px ${r}px)`,`circle(${Math.hypot(Math.max(i,innerWidth-i),Math.max(r,innerHeight-r))}px at ${i}px ${r}px)`];await document.startViewTransition(async()=>{e.value=!e.value,await g()}).ready,document.documentElement.animate({clipPath:e.value?u.reverse():u},{duration:300,easing:"ease-in",pseudoElement:`::view-transition-${e.value?"old":"new"}(root)`})}),(i,r)=>(y(),_(l(f).Layout,{class:w(l(n))},null,8,["class"]))}});let o;const F={extends:f,Layout:B,enhanceApp({app:a,router:e,siteData:t}){typeof window<"u"&&P(()=>e.route.data.relativePath,()=>I(location.pathname==="/"||location.pathname==="/vitepress-nav-template/"),{immediate:!0})}};function I(a){if(a){if(o)return;o=document.createElement("style"),o.innerHTML=`
        :root {
            animation: rainbow 12s linear infinite;
        }`,document.body.appendChild(o)}else{if(!o)return;o.remove(),o=void 0}}function h(a){if(a.extends){const e=h(a.extends);return{...e,...a,async enhanceApp(t){e.enhanceApp&&await e.enhanceApp(t),a.enhanceApp&&await a.enhanceApp(t)}}}return a}const s=h(F),N=d({name:"VitePressApp",setup(){const{site:a}=m();return S(()=>{V(()=>{document.documentElement.lang=a.value.lang,document.documentElement.dir=a.value.dir})}),O(),j(),k(),s.setup&&s.setup(),()=>H(s.Layout)}});async function X(){const a=G(),e=z();e.provide(A,a);const t=C(a.route);return e.provide(b,t),e.component("Content",T),e.component("ClientOnly",E),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),s.enhanceApp&&await s.enhanceApp({app:e,router:a,siteData:$}),{app:e,router:a,data:t}}function z(){return L(N)}function G(){let a=c,e;return D(t=>{let n=M(t),p=null;return n&&(a&&(e=n),(a||e===n)&&(n=n.replace(/\.js$/,".lean.js")),p=R(()=>import(n),[])),c&&(a=!1),p},s.NotFound)}c&&X().then(({app:a,router:e,data:t})=>{e.go().then(()=>{x(e.route,t.site),a.mount("#app")})});export{X as createApp};
